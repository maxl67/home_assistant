anchors:
  style_entitycard_header: &style_header
    card_mod:
      style: |
        .card-header {
          font-size: 20px;
          padding: 10px 16px;
        }

button_card_templates:
  icon_button:
    aspect_ratio: 4/3
    color_type: icon
    hold_action:
      action: none
    layout: vertical
    show_label: false
    show_name: false
    show_state: false
    styles:
      card:
        - border-radius: 10px
        - border: solid 1px var(--primary-color)
        - box-shadow: none
        - padding: 6px 6px
        - margin: 0px 0px
        - '--paper-card-background-color': 'rgba(0, 0, 0, 0)'
      icon:
        - width: 28px
      name:
        - justify-self: middle
        - align-self: end
        - font-size: 14px
        - padding: 0px 0px
        - color: var(--secondary-text-color)
    tap_action:
      action: call-service
  menu_button:
    aspect_ratio: 4/3
    color_type: icon
    hold_action:
      action: none
    layout: vertical
    show_label: false
    show_name: true
    show_state: false
    styles:
      card:
        - border-radius: 10px
        - border: solid 1px var(--primary-color)
        - box-shadow: none
        - padding: 6px 6px
        - margin: 0px 0px
        - '--paper-card-background-color': 'rgba(0, 0, 0, 0)'
      icon:
        - width: 28px
      name:
        - justify-self: middle
        - align-self: end
        - font-size: 14px
        - padding: 0px 0px
        - color: var(--secondary-text-color)
    tap_action:
      action: call-service

#---------------------------------
#id: media
title: Media
path: media
icon: mdi:filmstrip-box-multiple
cards:
  - type: media-control
    entity: media_player.samsungtv
    name: Samsung Qled60

  - type: media-control
    entity: media_player.r_n803d_86ae28
    name: Yamaha R-N803D

# todo: media_player entity not available, if device is switched off during HA restart. 
  #- type: media-control
  #  entity: media_player.panasonic_blu_ray
  #  name: Panasonic DP-UB424

  # Zugriff Radio Bad geht, wird aber nicht gebraucht
  #- type: media-control
  #  entity: media_player.radio_bad
  
  - type: horizontal-stack
    # https://github.com/custom-cards/button-card
    cards:
      - type: custom:button-card
        name: Kino
        icon: mdi:filmstrip-box-multiple
        show_state: false
        tap_action: 
          action: call-service
          service: script.start_bd_show
      - type: custom:button-card
        name: TV
        icon: mdi:television-classic
        show_state: false
        tap_action: 
          action: call-service
          service: script.start_tv_show
      - type: custom:button-card
        name: Radio
        icon: mdi:radio
        show_state: false
        tap_action: 
          action: call-service
          service: script.start_radio
      - type: custom:button-card
        name: CD
        icon: mdi:music-circle-outline
        show_state: false
        tap_action: 
          action: call-service
          service: script.start_cd
      #- type: custom:button-card
      #  color_type: blank-card

# todo: Remote
# todo: gesehen bei knapoc https://community.home-assistant.io/t/stack-in-card-drop-in-replacement-for-vertical-stack-in-card/180072

  - type: custom:vertical-stack-in-card
    cards:
      - type: entities
        <<: *style_header
        title: Entertainment-Rack
        show_header_toggle: false
        state_color: true
        entities:
          - entity: switch.osram_plug_01_a1bf020a_3
            name: Power-Plug
          - type: divider
          - entity: group.mediadevices_in_use
            name: TV an oder Music spielt
      # device status (for testing)
      - !include ../cards/mediarack_debug.yaml

  # status of lights
  - type: entities
    title: Licht
    <<: *style_header
    show_header_toggle: false
    state_color: true
    entities:
      - type: custom:slider-entity-row
        entity: light.0008da499c8dbd
        name: Ambiente-Licht
        toggle: true
        hide_when_off: true
      - type: divider 
      - entity: switch.enable_light_automation
