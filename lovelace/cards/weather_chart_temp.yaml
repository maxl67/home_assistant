# https://community.home-assistant.io/t/apexcharts-card-a-highly-customizable-graph-card/272877/487
# https://github.com/RomRider/apexcharts-card#data_generator-option
#------------------------------
# Themperatur - Chart

type: custom:apexcharts-card
graph_span: 1d
span:
  start: day
all_series_config:
  fill_raw: last
  extend_to_end: false
  stroke_width: 2
  show:
    extremas: true
    legend_value: false
    offset_in_name: false
series:
  - entity: sensor.outside_temperature
    name: gestern
    offset: -1d
    opacity: 0.6
    color: var(--primary-color)
  - entity: sensor.outside_temperature
    name: heute
    color: var(--paper-toggle-button-checked-button-color)
    stroke_width: 3
    show:
      legend_value: true
  - entity: sensor.temperature_ak_stuttgart_2
    name: spÃ¤ter
    data_generator: |
      return entity.attributes.data.map((entry) => {
        return [new Date(entry.datetime), entry.value];
      });
    color: var(--paper-toggle-button-checked-button-color)
    opacity: 0.8
  - entity: sensor.temperature_ak_stuttgart_2
    name: morgen
    offset: +1d
    data_generator: |
      return entity.attributes.data.map((entry) => {
        return [new Date(entry.datetime), entry.value];
      });
    color: green #var(--paper-item-icon-active-color)
    opacity: 0.6
apex_config:
  stroke: { show: true, lineCap: "square", dashArray: [0, 0, 5, 5] }
  dataLabels: { enabled: true }
  #legend: { show: false }
  annotations:
    yaxis:
      - y: -20 
        y2: 0
        opacity: 0.15
        fillColor: '#775DD0'
    xaxis:
      - x: '2021-11-23 13:00:00'
        borderColor: '#FEB019'
yaxis:
  - decimals: 0
    apex_config:
      forceNiceScale: true
now:
  show: true
  color: var(--paper-toggle-button-checked-button-color)
show:
  last_updated: true
header:
  show: true
  title: Temperatur
  floating: true